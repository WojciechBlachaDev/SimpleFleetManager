<mah:MetroWindow x:Class="SimpleFleetManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        xmlns:local="clr-namespace:SimpleFleetManager"
        mc:Ignorable="d"
        WindowStartupLocation="CenterOwner"
        WindowState="Maximized"
        WindowStyle="ToolWindow"
        Height="1080" Width="1920">
    <Border SnapsToDevicePixels="True"
            Background="Transparent">
        <Grid>
            <!--#region Main Grid layout -->
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition/>
                <RowDefinition Height="auto"/>
            </Grid.RowDefinitions>
            <!--#endregion-->
            <!--#region Top Menu -->
            <!--#region Layout -->
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="1100"/>
                <ColumnDefinition Width="300"/>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="auto"/>
            </Grid.ColumnDefinitions>
            <!--#endregion-->
            <!--#region Program Title -->
            <TextBlock Grid.Column="1"
                       Margin="360,0,0,0"
                       HorizontalAlignment="Center"
                       Style="{StaticResource MahApps.Styles.TextBlock}"
                       Foreground="White"
                       FontWeight="SemiBold"
                       FontSize="26"
                       Text="SimpleFleetManager"/>
            <!--#endregion-->
            <!--#region Logged user data-->
            <StackPanel Grid.Column="2" Orientation="Horizontal">
                <TextBlock FontSize="24" Foreground="White" Text="Zalogowany"/>
                <Separator Width="20"/>
                <TextBlock Margin="0,0,30,0"
                           FontSize="24"
                           Foreground="White"
                           Text="Brak użytkownika"/>
            </StackPanel>
            <!--#endregion-->
            
            <!--#endregion-->
            <!--#endregion-->
            <!--#region Side animated menu -->
            <Border
                x:Name="MenuContainer"
                Grid.Row="1"
                Grid.RowSpan="2"
                BorderBrush="#2d2d2d"
                CornerRadius="15"
                BorderThickness="3">
                <StackPanel
                    x:Name="MenuPanel"
                    Width="auto"
                    HorizontalAlignment="Left"
                    Background="Yellow">
                    <!--#region Main menu toggle button with menu animation -->
                    <ToggleButton x:Name="ExpandMenuButton"
                            Width="auto"
                            IsChecked="{Binding ShowMenu, Mode=TwoWay}"
                            Foreground="Wheat">
                        <ToggleButton.Triggers>
                            <!--#region Event trigger expanding menu -->
                            <EventTrigger RoutedEvent="ToggleButton.Checked">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MenuContainer" Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="0:0:0.0" Value="{x:Static Visibility.Visible}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimation
                                            Storyboard.TargetName="MenuContainer"
                                            Storyboard.TargetProperty="Opacity"
                                            From="0.3"
                                            To="1"
                                            Duration="0:0:0.3">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseInOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>

                                        <DoubleAnimation 
                                            Storyboard.TargetName="MenuPanel"
                                            Storyboard.TargetProperty="Width"
                                            From="65"
                                            To="300"
                                            Duration="0:0:0.8">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseInOut"/>
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation 
                                            Storyboard.TargetName="ExpandMenuButton"
                                            Storyboard.TargetProperty="Width"
                                            From="65"
                                            To="300"
                                            Duration="0:0:0.8">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseInOut"/>
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                            <!--#endregion-->
                            <!--#region Event triger collapsing menu -->
                            <EventTrigger RoutedEvent="ToggleButton.Unchecked">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MenuContainer" Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="0:0:0.0" Value="{x:Static Visibility.Visible}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimation
                                            Storyboard.TargetName="MenuContainer"
                                            Storyboard.TargetProperty="Opacity"
                                            From="1"
                                            To="0.3"
                                            Duration="0:0:0.3">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseInOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation 
                                            Storyboard.TargetName="MenuPanel"
                                            Storyboard.TargetProperty="Width"
                                            From="300"
                                            To="65"
                                            Duration="0:0:0.8">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseInOut"/>
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                        <DoubleAnimation 
                                            Storyboard.TargetName="ExpandMenuButton"
                                            Storyboard.TargetProperty="Width"
                                            From="300"
                                            To="65"
                                            Duration="0:0:0.8">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseInOut"/>
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                            <!--#endregion-->
                        </ToggleButton.Triggers>
                    </ToggleButton>
                </StackPanel>
            </Border>
            <!--#endregion-->
        </Grid>
        

    </Border>
            
</mah:MetroWindow>
